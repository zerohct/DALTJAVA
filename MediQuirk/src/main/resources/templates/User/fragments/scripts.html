<div class="main-nav" th:fragment="scripts">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script>
        document.getElementById('toggle-password').addEventListener('click', function () {
        const passwordField = document.getElementById('password');
        const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordField.setAttribute('type', type);
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
        });

        document.getElementById('toggle-confirm-password').addEventListener('click', function () {
        const confirmPasswordField = document.getElementById('confirmPassword');
        const type = confirmPasswordField.getAttribute('type') === 'password' ? 'text' : 'password';
        confirmPasswordField.setAttribute('type', type);
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const userMenu = document.getElementById('user-menu');
            const submenu = userMenu.querySelector('.submenu');
            let timeoutId;

            userMenu.addEventListener('mouseenter', function() {
                clearTimeout(timeoutId);
                submenu.style.display = 'block';
            });

            userMenu.addEventListener('mouseleave', function() {
                timeoutId = setTimeout(function() {
                    submenu.style.display = 'none';
                }, 300); // 300ms delay before hiding
            });

            submenu.addEventListener('mouseenter', function() {
                clearTimeout(timeoutId);
            });

            submenu.addEventListener('mouseleave', function() {
                submenu.style.display = 'none';
            });
        });
    </script>
</div>